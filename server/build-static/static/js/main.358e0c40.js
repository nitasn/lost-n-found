(()=>{"use strict";var e={9911:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});r(2462);var n=r(3426),o=r(7602),a=r(2010),i=r(5004),s=r(9385),l=r(2532),c=r(4246),u=r(4942),d=r(3734),f=r(885),p=r(3645),h=r(1054),m=r(3287),g=r(5326),y=r(1318),j=r(2152);const b=a.default.create({noInputOutline:"web"===j.default.OS?{outlineStyle:"none"}:{},shadow_2:{shadowColor:"black",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2,backgroundColor:"white"},shadow_3:{shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22,elevation:3,backgroundColor:"white"},shadow_5:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,backgroundColor:"white"}});r(2982),r(9711).default.deviceName;var x=function(){var e={year:31556736e3,month:2629728e3,day:864e5,hour:36e5,minute:6e4,second:1e3};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();"string"===typeof t&&(t=new Date(t)),"string"===typeof r&&(r=new Date(r));var n=Number(t)-Number(r);for(var o in e)if(Math.abs(n)>e[o]||"second"==o){var a=Math.abs(Math.round(n/e[o])),i=1===a?`${a} ${o}`:`${a} ${o}s`;return n<0?`${i} ago`:`in ${i}`}}}();!function(){var e=0}();!function(){var e=Object.create(null)}();var v=r(2629);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(){return(0,v.jsx)(s.default,{style:{height:1,marginHorizontal:8,backgroundColor:"#ccc"}})}function S(e){var t,r=e.postData,n=(0,y.useNavigation)(),o=null==(t=r.location.name)?void 0:t.trim(),a=function(){return n.navigate("PostPage",{id:r._id})};return(0,v.jsxs)(g.default,{style:k.post,onPress:a,children:[(0,v.jsxs)(s.default,{style:k.header,children:[(0,v.jsx)(h.default,{style:k.title,children:r.title}),(0,v.jsx)(h.default,{style:k.text,children:r.text})]}),(0,v.jsx)(p.default,{style:k.imagesList,data:r.picsUrls,horizontal:!0,showsHorizontalScrollIndicator:!1,renderItem:function(e){var t=e.item,n=e.index+1===r.picsUrls.length;return(0,v.jsx)(g.default,{style:[k.imageWrapper,n&&k.imageWrapper_lastChild],onPress:a,children:(0,v.jsx)(m.default,{style:k.image,source:{uri:t}})})},keyExtractor:function(e,t){return`${t}|${e}`}}),(0,v.jsx)(P,{}),(0,v.jsxs)(s.default,{style:k.footer,children:[(0,v.jsxs)(h.default,{children:[(0,v.jsx)(h.default,{children:I(r.proximityInKm)}),(0,v.jsx)(h.default,{children:o&&` \u2022 ${o}`})]}),(0,v.jsx)(h.default,{children:x(r.date)})]})]})}var k=a.default.create({post:w(w({margin:10,borderRadius:5,backgroundColor:"white"},b.shadow_3),{},{marginTop:0}),header:{paddingHorizontal:12,paddingTop:20,paddingBottom:8},title:{marginBottom:16,fontSize:30,textTransform:"capitalize",fontWeight:"bold",letterSpacing:1.1},text:{},imagesList:{padding:12},imageWrapper:w(w({},b.shadow_3),{},{borderRadius:5,marginEnd:12}),imageWrapper_lastChild:{marginEnd:24},image:{width:250,aspectRatio:1,resizeMode:"cover",borderRadius:5},footer:{flexDirection:"row",justifyContent:"space-between",padding:12}});function I(e){return e>=10?`${e.toFixed(0)} km away`:e>=1?`${e.toFixed(1)} km away`:e<=.1?"near you":`${e.toFixed(2)} km away`}var C=r(5288);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){var t=e.filterIsOn,r=(0,y.useNavigation)();return(0,v.jsxs)(C.default,{style:T.searchBar,onPress:function(){return r.navigate("FilterPicker")},children:[(0,v.jsx)(h.default,{style:[T.text,t&&T.text_filterIsOn],children:t?"Tap to View Filter":"Search..."}),(0,v.jsx)(l.default,{size:20,color:"black",name:"search"})]})}var T=a.default.create({searchBar:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginHorizontal:8,marginVertical:12,paddingVertical:12,paddingHorizontal:24,backgroundColor:"white",borderRadius:12},b.shadow_3),text:{fontSize:15,letterSpacing:1.1},text_filterIsOn:{fontWeight:"bold"}});var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=new Set;return{get:function(){return e},set:function(r){e="function"===typeof r?r(e):r,t.forEach((function(t){return t(e)}))},subscribe:function(e){return"function"!==typeof e?console.error("param `callback` must be a function"):(t.add(e),function(){t.delete(e)})}}}(JSON.parse('[{"_id":"0","type":"found","isStillAvailable":true,"title":"a doggo","text":"look at what i\'ve found!","picsUrls":["https://fastly.picsum.photos/id/237/300/300.jpg?hmac=9iUR3VHqf0Y9abGyuPZTpEIxHJL0sSvyNtJtDIMSylM","https://fastly.picsum.photos/id/234/300/300.jpg?hmac=h_wyR2RyqWlWBClKUtEB0PtIVBMKrf42kUI7IFbJ-UQ","https://fastly.picsum.photos/id/623/200/200.jpg?hmac=xquTjHIYmAPV3XEGlIUaV_KWyEofkbortxrK79jJhWA"],"date":"2022-05-25T11:30:00.000Z","location":{"lat":29.5577,"long":34.9519,"name":"Eilat"},"author":{"_id":"boaz_id","name":"Boaz","profilePicUrl":"https://fastly.picsum.photos/id/409/200/200.jpg?hmac=AY8BYOBixnRqVEMdEhYmw49e-6qu3M3zf_xXjkAuHHc"},"proximityInKm":2.33},{"_id":"1","type":"found","isStillAvailable":true,"title":"some things","text":"also there is more stuff here.","picsUrls":["https://fastly.picsum.photos/id/1060/200/200.jpg?hmac=M0E6SK-_reDe8rAPtwDpww5ihTgL6yewgERGc7eX5z8","https://fastly.picsum.photos/id/370/200/200.jpg?hmac=HT9dVkM8BnOVYNnQU3Kiehyb9hJUPrehSqcOHXrq_y0"],"date":"2021-10-27T18:15:00.000Z","location":{"lat":32.0853,"long":34.7818,"name":"Tel Aviv"},"author":{"_id":"naomi_id","name":"Naomi","profilePicUrl":"https://fastly.picsum.photos/id/281/200/200.jpg?hmac=5FvZ-Y5zbbpS3-mJ_mp6-eH61MkwhUJi9qnhscegqkY"},"proximityInKm":15}]')),F=function(){return function(e){var t=i.useState(e.get),r=(0,f.default)(t,2),n=r[0],o=r[1];return i.useEffect((function(){return e.subscribe(o)}),[]),[n,e.set]}(D)};const E=i.createContext(null);function M(){return(0,v.jsx)(h.default,{children:"No results... \ud83d\udc94"})}function B(){return(0,v.jsx)(h.default,{children:"No Items... \ud83d\udc94"})}function N(){var e=(0,i.useContext)(E),t=F(),r=(0,f.default)(t,1)[0],n=(0,i.useMemo)((function(){return r.filter((function(t){return t.type===e}))}),[r]),o=(0,i.useState)(null),a=(0,f.default)(o,2),l=a[0];a[1];return(0,v.jsx)(p.default,{ListHeaderComponent:function(){return(0,v.jsx)(z,{})},ListEmptyComponent:function(){return(0,v.jsx)(s.default,{style:$.emptyListMessage,children:l?(0,v.jsx)(M,{}):(0,v.jsx)(B,{})})},data:n,renderItem:function(e){var t=e.item;return(0,v.jsx)(S,{postData:t})}})}var $=a.default.create({emptyListMessage:{alignItems:"center",padding:12,flex:1}}),H=r(7892);function R(){return(0,v.jsx)(s.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,v.jsx)(h.default,{children:"Filter Picker."})})}function U(e){var t=e.route.params.id;return(0,v.jsxs)(s.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,v.jsx)(h.default,{children:"Post Page."}),(0,v.jsxs)(h.default,{children:["Post ID: ",t]})]})}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(){return(0,v.jsx)(E.Provider,{value:"found",children:(0,v.jsx)(J,{})})}function V(){return(0,v.jsx)(E.Provider,{value:"lost",children:(0,v.jsx)(J,{})})}var W={headerTitleAlign:"center",headerTitleStyle:{textTransform:"capitalize"}},K=(0,d.default)();function J(){var e=(0,i.useContext)(E);return(0,v.jsxs)(K.Navigator,{children:[(0,v.jsx)(K.Screen,{name:"Feed",component:N,options:q({headerTitle:`${e} items`},W)}),(0,v.jsx)(K.Screen,{name:"FilterPicker",component:R,options:q(q({headerTitle:`search ${e} items`},W),H.ModalSlideFromBottomIOS)}),(0,v.jsx)(K.Screen,{name:"PostPage",component:U,options:q({headerTitle:`${e} item`},W)})]})}function Y(){return(0,v.jsx)(s.default,{style:{flex:1}})}function X(){return(0,v.jsx)(s.default,{style:{flex:1}})}function Z(){return(0,v.jsx)(s.default,{style:{flex:1}})}var G=(0,c.default)();function Q(){return(0,v.jsxs)(G.Navigator,{headerMode:"screen",screenOptions:function(e){return{tabBarButton:"NotFound"===e.route.name?function(){return null}:void 0}},children:[(0,v.jsx)(G.Screen,{name:"FoundStack",component:L,options:{title:"Found",headerShown:!1,tabBarIcon:function(e){var t=e.size,r=e.color,n=e.focused;return(0,v.jsx)(l.default,{size:t,color:r,name:n?"earth-sharp":"earth"})}}}),(0,v.jsx)(G.Screen,{name:"LostStack",component:V,options:{title:"Lost",headerShown:!1,tabBarIcon:function(e){var t=e.size,r=e.color,n=e.focused;return(0,v.jsx)(l.default,{size:t,color:r,name:n?"planet-sharp":"planet-outline"})}}}),(0,v.jsx)(G.Screen,{name:"ChatsStack",component:Y,options:{title:"Chats",headerTitleAlign:"center",tabBarIcon:function(e){var t=e.size,r=e.color,n=e.focused;return(0,v.jsx)(l.default,{size:t,color:r,name:n?"chatbox-ellipses":"chatbox-ellipses-outline"})}}}),(0,v.jsx)(G.Screen,{name:"SettingsStack",component:X,options:{title:"Settings",headerTitleAlign:"center",tabBarIcon:function(e){var t=e.size,r=e.color,n=e.focused;return(0,v.jsx)(l.default,{size:t,color:r,name:n?"settings-sharp":"settings-outline"})}}}),(0,v.jsx)(G.Screen,{name:"NotFound",component:Z,options:{title:"Not Found",headerTitleAlign:"center"}})]})}var ee={prefixes:["https://found-lost.vercel.app","foundlost://"],config:{screens:{FoundStack:{screens:{Feed:"found",FilterPicker:"found/query",PostPage:"found/item"}},LostStack:{screens:{Feed:"lost",FilterPicker:"lost/query",PostPage:"lost/item"}},ChatsStack:"chats",SettingsStack:"settings",NotFound:"*"}}},te=r(5705),re=(0,y.createNavigationContainerRef)();function ne(){return(0,v.jsxs)(o.default,{style:oe.container,children:[(0,v.jsx)(n.default,{style:"auto"}),(0,v.jsx)(te.default,{linking:ee,ref:re,children:(0,v.jsx)(Q,{})})]})}var oe=a.default.create({container:{flex:1}})}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,o,a]=e[u],s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,s,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[182],(()=>r(6271)));n=r.O(n)})();
//# sourceMappingURL=main.358e0c40.js.map